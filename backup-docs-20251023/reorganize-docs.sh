#!/bin/bash

# üîß –°–∫—Ä–∏–ø—Ç —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
# –ê–≤—Ç–æ—Ä: Claude (Middle Developer)
# –¶–µ–ª—å: –ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

echo "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó"
echo "‚ïë         üîß –†–ï–û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò                 ‚ïë"
echo "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
echo ""

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m' # No Color

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if [ ! -f "CLAUDE.md" ]; then
    echo -e "${RED}‚ùå –û—à–∏–±–∫–∞: –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ /Users/sergey/Projects/Sergey/${NC}"
    exit 1
fi

echo "üìç –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: $(pwd)"
echo ""

# –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
echo -e "${YELLOW}üì¶ –®–∞–≥ 1: –°–æ–∑–¥–∞—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é...${NC}"
BACKUP_DIR="backup-docs-$(date +%Y%m%d-%H%M%S)"
mkdir -p "$BACKUP_DIR"
cp *.md "$BACKUP_DIR/" 2>/dev/null
echo -e "${GREEN}‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞ –≤ $BACKUP_DIR${NC}"
echo ""

# –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫
echo -e "${YELLOW}üìÅ –®–∞–≥ 2: –°–æ–∑–¥–∞—é –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫...${NC}"
mkdir -p docs/setup
mkdir -p docs/guides
mkdir -p docs/architecture
mkdir -p docs/claude
echo -e "${GREEN}‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ —Å–æ–∑–¥–∞–Ω–∞${NC}"
echo ""

# –®–∞–≥ 3: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
echo -e "${YELLOW}üìã –®–∞–≥ 3: –ü–µ—Ä–µ–º–µ—â–∞—é —Ñ–∞–π–ª—ã –≤ –Ω–æ–≤—ã–µ –ø–∞–ø–∫–∏...${NC}"

# Setup —Ñ–∞–π–ª—ã
if [ -f "SETUP-COMPLETE.md" ]; then
    mv SETUP-COMPLETE.md docs/setup/README.md
    echo "  ‚úì SETUP-COMPLETE.md ‚Üí docs/setup/README.md"
fi

if [ -f "VS-CODE-EXTENSIONS.md" ]; then
    mv VS-CODE-EXTENSIONS.md docs/setup/vs-code-extensions.md
    echo "  ‚úì VS-CODE-EXTENSIONS.md ‚Üí docs/setup/vs-code-extensions.md"
fi

# Guides —Ñ–∞–π–ª—ã
if [ -f "HOW-TO-USE.md" ]; then
    mv HOW-TO-USE.md docs/guides/README.md
    echo "  ‚úì HOW-TO-USE.md ‚Üí docs/guides/README.md"
fi

# Architecture —Ñ–∞–π–ª—ã
if [ -f "PROJECT-STRUCTURE.md" ]; then
    mv PROJECT-STRUCTURE.md docs/architecture/README.md
    echo "  ‚úì PROJECT-STRUCTURE.md ‚Üí docs/architecture/README.md"
fi

# Claude —Ñ–∞–π–ª—ã
if [ -f "INSTRUCTIONS-INDEX.md" ]; then
    mv INSTRUCTIONS-INDEX.md docs/claude/README.md
    echo "  ‚úì INSTRUCTIONS-INDEX.md ‚Üí docs/claude/README.md"
fi

# –£–¥–∞–ª—è–µ–º –ø–ª–∞–Ω —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ–Ω –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)
if [ -f "REORGANIZATION-PLAN.md" ]; then
    mv REORGANIZATION-PLAN.md "$BACKUP_DIR/"
    echo "  ‚úì REORGANIZATION-PLAN.md ‚Üí –ø–µ—Ä–µ–º–µ—â–µ–Ω –≤ backup"
fi

echo -e "${GREEN}‚úÖ –§–∞–π–ª—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã${NC}"
echo ""

# –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
echo -e "${YELLOW}üìù –®–∞–≥ 4: –°–æ–∑–¥–∞—é –≥–ª–∞–≤–Ω—ã–π –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏...${NC}"
cat > docs/README.md << 'EOF'
# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Sergey

> –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### üìÅ [setup/](setup/) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- [README.md](setup/README.md) - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- [vs-code-extensions.md](setup/vs-code-extensions.md) - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è VS Code

### üìÅ [guides/](guides/) - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- [README.md](guides/README.md) - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º (cheatsheet)
- Git workflow, VS Code tips, troubleshooting

### üìÅ [architecture/](architecture/) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [README.md](architecture/README.md) - –ö–∞—Ä—Ç–∞ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∏—Ö —Å–≤—è–∑–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –¥–∏–∞–≥—Ä–∞–º–º—ã

### üìÅ [claude/](claude/) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è Claude Code
- [README.md](claude/README.md) - –ò–Ω–¥–µ–∫—Å –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è Claude
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

### üìÅ [database/](database/) - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –°—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ë–î

### üìÅ [archive/](archive/) - –ê—Ä—Ö–∏–≤
- –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, deprecated —Ñ–∞–π–ª—ã

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ù–æ–≤–∏—á–æ–∫?** –ù–∞—á–Ω–∏ —Å [guides/README.md](guides/README.md)
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è?** –°–º–æ—Ç—Ä–∏ [setup/](setup/)
3. **–ò—â–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–æ–≤?** –û—Ç–∫—Ä–æ–π [architecture/README.md](architecture/README.md)
4. **–î–ª—è Claude Code?** –°–º. [claude/](claude/) –∏ –≥–ª–∞–≤–Ω—ã–π [CLAUDE.md](../CLAUDE.md)

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

| –î–æ–∫—É–º–µ–Ω—Ç | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| –ì–ª–∞–≤–Ω—ã–π README | [../README.md](../README.md) | Overview –ø—Ä–æ–µ–∫—Ç–∞ |
| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Claude | [../CLAUDE.md](../CLAUDE.md) | –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI |
| –ù–∞–≤–∏–≥–∞—Ç–æ—Ä docs | –¢—ã –∑–¥–µ—Å—å! | –ö–∞—Ä—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |

---

## üîç –ü–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–∏—Å–∫ VS Code (`Cmd+Shift+F`) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date +%Y-%m-%d)*
EOF

echo -e "${GREEN}‚úÖ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω${NC}"
echo ""

# –®–∞–≥ 5: –û—Ç—á–µ—Ç –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
echo "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó"
echo "‚ïë                  ‚úÖ –ì–û–¢–û–í–û!                          ‚ïë"
echo "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù"
echo ""
echo "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:"
echo "  ‚Ä¢ –°–æ–∑–¥–∞–Ω–∞ —á–∏—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ docs/"
echo "  ‚Ä¢ –í –∫–æ—Ä–Ω–µ –æ—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ README.md –∏ CLAUDE.md"
echo "  ‚Ä¢ –í—Å–µ —Ñ–∞–π–ª—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"
echo "  ‚Ä¢ –°–æ–∑–¥–∞–Ω –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä docs/README.md"
echo "  ‚Ä¢ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –≤ $BACKUP_DIR"
echo ""
echo "üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:"
tree -L 2 docs/ 2>/dev/null || ls -la docs/
echo ""
echo -e "${GREEN}üéâ –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!${NC}"
echo ""
echo "üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "  1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë –Ω–∞ –º–µ—Å—Ç–µ: ls -la docs/"
echo "  2. –û–±–Ω–æ–≤–∏ —Å—Å—ã–ª–∫–∏ –≤ README.md"
echo "  3. –£–¥–∞–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫–æ–≥–¥–∞ —É–±–µ–¥–∏—à—å—Å—è —á—Ç–æ –≤—Å—ë –û–ö: rm -rf $BACKUP_DIR"